<section>
  <div class="wrapper">

    <!-- Seleccionar método -->
    <div class="section-title">Método de pago</div>

    <div class="payment-options">
      <button
        class="option-btn"
        [class.selected]="metodo === 'tarjeta'"
        (click)="seleccionarMetodo('tarjeta')">
        Tarjeta bancaria
      </button>

      <button
        class="option-btn"
        [class.selected]="metodo === 'oxxo'"
        (click)="seleccionarMetodo('oxxo')">
        Pago en tienda (OXXO)
      </button>

      <button
        class="option-btn"
        [class.selected]="metodo === 'transferencia'"
        (click)="seleccionarMetodo('transferencia')">
        Transferencia
      </button>
    </div>


    <!-- Registrar tarjeta -->
    <div *ngIf="metodo === 'tarjeta'" class="card-form">

      <div class="section-title">Registrar tarjeta</div>

      <label>Número de tarjeta</label>
      <input type="text" maxlength="16" [(ngModel)]="tarjeta.numero">

      <label>Nombre del titular</label>
      <input type="text" [(ngModel)]="tarjeta.nombre">

      <div class="row">
        <div>
          <label>Mes (MM)</label>
          <input type="text" maxlength="2" [(ngModel)]="tarjeta.mes">
        </div>

        <div>
          <label>Año (YY)</label>
          <input type="text" maxlength="2" [(ngModel)]="tarjeta.anio">
        </div>

        <div>
          <label>CVC</label>
          <input type="text" maxlength="3" [(ngModel)]="tarjeta.cvc">
        </div>
      </div>
    </div>

<!-- Mostrar referencia OXXO -->
<div *ngIf="metodo === 'oxxo'" class="info-box">
  <div class="section-title">Pago en tienda (OXXO)</div>

  <p>Presenta esta referencia en tu tienda OXXO:</p>

  <div class="datos">
    {{ referenciaOxxo }}
  </div>
</div>


<!-- Mostrar cuenta y CLABE de transferencia -->
<div *ngIf="metodo === 'transferencia'" class="info-box">
  <div class="section-title">Transferencia bancaria</div>

  <p>Utiliza estos datos para realizar tu transferencia:</p>

  <p><strong>Número de cuenta:</strong></p>
  <div class="datos">
    {{ cuentaTransfer }}
  </div>

  <p><strong>CLABE interbancaria:</strong></p>
  <div class="datos">
    {{ clabeTransfer }}
  </div>
</div>


    <!-- Botón de compra -->
    <div class="buy-button">
      <button class="btn" (click)="realizarCompra()">Realizar compra</button>
    </div>

    <!-- Mensajes -->
    <div *ngIf="error" class="error">⚠️ {{ error }}</div>
    <div *ngIf="compraExitosa" class="success">✅ ¡Compra realizada con éxito!</div>

  </div>
</section>
